{"version":3,"file":"arizona-morphdom-patcher.min.js","sources":["../../../../assets/js/patcher/arizona-morphdom-patcher.js"],"sourcesContent":["import morphdom from 'morphdom';\nimport ArizonaPatcher from './arizona-patcher.js';\n\n/**\n * Morphdom-based patcher (requires morphdom peer dependency)\n *\n * Efficiently diffs and patches only changed parts of the DOM.\n * Preserves focus, selection, and minimizes DOM operations.\n *\n * Default opinionated behavior:\n * - Skips updates for elements with data-arizona-update=\"false\"\n * - Skips updates for identical nodes (optimization)\n *\n * @example\n * // With default options\n * import { ArizonaMorphdomPatcher } from '@arizona-framework/client/patcher/morphdom';\n * const patcher = new ArizonaMorphdomPatcher();\n *\n * // With custom options\n * const patcher = new ArizonaMorphdomPatcher({\n *   onBeforeElUpdated: (fromEl, toEl) => true,\n *   childrenOnly: false\n * });\n */\nclass ArizonaMorphdomPatcher extends ArizonaPatcher {\n  /**\n   * @param {Object} [options] - Morphdom options (if not provided, uses Arizona defaults)\n   */\n  constructor(options) {\n    super();\n    // Use provided options or Arizona defaults\n    this.options = options || {\n      onBeforeElUpdated(fromEl, toEl) {\n        // Skip update if data-arizona-update=\"false\"\n        if (toEl.dataset?.arizonaUpdate === 'false') {\n          return false;\n        }\n        // Skip update if nodes are identical\n        return !fromEl.isEqualNode(toEl);\n      },\n    };\n  }\n\n  patch(target, html) {\n    morphdom(target, html, this.options);\n  }\n}\n\nexport default ArizonaMorphdomPatcher;\n"],"names":["ArizonaMorphdomPatcher","ArizonaPatcher","options","fromEl","toEl","target","html","morphdom"],"mappings":";;;AAwBA,MAAMA,UAA+BC,EAAe;AAAA;AAAA;AAAA;AAAA,EAIlD,YAAYC,GAAS;AACnB,UAAK,GAEL,KAAK,UAAUA,KAAW;AAAA,MACxB,kBAAkBC,GAAQC,GAAM;AAE9B,eAAIA,EAAK,SAAS,kBAAkB,UAC3B,KAGF,CAACD,EAAO,YAAYC,CAAI;AAAA,MACjC;AAAA,IACN;AAAA,EACE;AAAA,EAEA,MAAMC,GAAQC,GAAM;AAClB,IAAAC,EAASF,GAAQC,GAAM,KAAK,OAAO;AAAA,EACrC;AACF;"}